<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>
   m√≥dulo1
  </title>
 </head>
 <body>
  <h1 id="modulo-1-fundamentos-de-bases-de-datos-de-grafos">
   M√≥dulo 1: Fundamentos de Bases de Datos de Grafos
  </h1>
  <div class="toc" id="table-of-contents">
   <h2 id="contents-header">
    Tabla de contenidos
   </h2>
   <ul class="toc">
    <li class="toc">
     <a class="toc" href="#1-introduccion-a-bases-de-datos-de-grafos">
      1. Introducci√≥n a Bases de Datos de Grafos
     </a>
    </li>
    <li class="toc">
     <a class="toc" href="#2-ventajas-sobre-bases-de-datos-relacionales">
      2. Ventajas sobre Bases de Datos Relacionales
     </a>
    </li>
    <li class="toc">
     <a class="toc" href="#3-casos-de-uso-de-neo4j">
      3. Casos de Uso de Neo4j
     </a>
    </li>
    <li class="toc">
     <a class="toc" href="#4-instalacion-y-configuracion-de-neo4j">
      4. Instalaci√≥n y Configuraci√≥n de Neo4j
     </a>
    </li>
    <li class="toc">
     <a class="toc" href="#ejercicios-practicos">
      Ejercicios Pr√°cticos
     </a>
    </li>
    <li class="toc">
     <a class="toc" href="#recursos-adicionales">
      Recursos Adicionales
     </a>
    </li>
    <li class="toc">
     <a class="toc" href="#ejercicios-para-afianzar-conocimientos">
      Ejercicios para afianzar conocimientos
     </a>
    </li>
   </ul>
  </div>
  <div class="chapter-container">
   <h2 id="1-introduccion-a-bases-de-datos-de-grafos">
    1. Introducci√≥n a Bases de Datos de Grafos
   </h2>
   <h3 id="que-es-una-base-de-datos-de-grafos">
    ¬øQu√© es una Base de Datos de Grafos?
   </h3>
   <p>
    Una base de datos de grafos es un tipo de base de datos NoSQL dise√±ada para almacenar, consultar y manipular datos altamente interconectados. A diferencia de las bases de datos relacionales tradicionales que organizan la informaci√≥n en tablas, las bases de datos de grafos representan los datos como una colecci√≥n de:
   </p>
   <ul>
    <li>
     <strong>
      Nodos
     </strong>
     : Entidades o "cosas" (equivalentes a registros en una base relacional)
    </li>
    <li>
     <strong>
      Relaciones
     </strong>
     : Conexiones entre nodos (equivalentes a las relaciones entre tablas)
    </li>
    <li>
     <strong>
      Propiedades
     </strong>
     : Atributos asociados tanto a nodos como a relaciones
    </li>
   </ul>
   <p>
    Esta estructura refleja naturalmente c√≥mo pensamos sobre la informaci√≥n en el mundo real - como entidades conectadas entre s√≠ mediante diferentes tipos de relaciones.
   </p>
   <h3 id="historia-y-evolucion">
    Historia y Evoluci√≥n
   </h3>
   <ul>
    <li>
     <p>
      <strong>
       Origen te√≥rico
      </strong>
      : Las bases de datos de grafos tienen sus ra√≠ces en la teor√≠a de grafos, una rama de las matem√°ticas que se remonta al siglo XVIII con el problema de los puentes de K√∂nigsberg resuelto por Leonhard Euler.
     </p>
    </li>
    <li>
     <p>
      <strong>
       Primeras implementaciones (1960s-1970s)
      </strong>
      : Los primeros sistemas de gesti√≥n de redes jer√°rquicas y bases de datos de red como IDS y CODASYL pueden considerarse precursores.
     </p>
    </li>
    <li>
     <p>
      <strong>
       Bases de datos sem√°nticas (1980s-1990s)
      </strong>
      : Desarrollo de bases de datos orientadas a objetos y sistemas basados en RDF.
     </p>
    </li>
    <li>
     <p>
      <strong>
       Era moderna (2000s-presente)
      </strong>
      : Surgimiento de Neo4j (2007) como la primera base de datos de grafos de prop√≥sito general y comercial, seguida por otras soluciones como ArangoDB, Amazon Neptune, JanusGraph, etc.
     </p>
    </li>
   </ul>
  </div>
  <div class="chapter-container">
   <h2 id="2-ventajas-sobre-bases-de-datos-relacionales">
    2. Ventajas sobre Bases de Datos Relacionales
   </h2>
   <h3 id="rendimiento-con-datos-conectados">
    Rendimiento con Datos Conectados
   </h3>
   <ul>
    <li>
     <p>
      <strong>
       Consultas de relaciones
      </strong>
      : Las bases de datos de grafos superan significativamente a las relacionales en consultas que implican m√∫ltiples joins. Mientras que el rendimiento de las bases relacionales se degrada exponencialmente con cada join adicional, las bases de grafos mantienen tiempos de respuesta constantes independientemente de la profundidad de las conexiones.
     </p>
    </li>
    <li>
     <p>
      <strong>
       Ejemplo pr√°ctico
      </strong>
      : Encontrar "amigos de amigos" hasta 3 niveles de profundidad:
     </p>
    </li>
    <li>
     En SQL: M√∫ltiples joins autocorreferenciados que se vuelven extremadamente costosos
    </li>
    <li>
     En Cypher (Neo4j): Simple consulta
     <code>
      MATCH (person)-[:FRIEND*1..3]-&gt;(friend) RETURN friend
     </code>
    </li>
   </ul>
   <h3 id="modelo-de-datos-flexible">
    Modelo de Datos Flexible
   </h3>
   <ul>
    <li>
     <p>
      <strong>
       Esquema flexible
      </strong>
      : No se requiere definir un esquema r√≠gido por adelantado. Los nodos pueden tener diferentes propiedades incluso dentro de la misma categor√≠a.
     </p>
    </li>
    <li>
     <p>
      <strong>
       Evoluci√≥n natural
      </strong>
      : Se pueden a√±adir nuevos tipos de relaciones y propiedades sin afectar a los datos existentes ni requerir migraciones complejas.
     </p>
    </li>
   </ul>
   <h3 id="representacion-intuitiva">
    Representaci√≥n Intuitiva
   </h3>
   <ul>
    <li>
     <p>
      <strong>
       Modelado cercano al dominio
      </strong>
      : La estructura de grafo refleja directamente los modelos mentales que usamos para entender dominios complejos.
     </p>
    </li>
    <li>
     <p>
      <strong>
       Comprensi√≥n visual
      </strong>
      : Los datos pueden visualizarse y comprenderse de forma natural como diagramas de entidades conectadas.
     </p>
    </li>
   </ul>
   <h3 id="casos-comparativos">
    Casos Comparativos
   </h3>
   <table>
    <thead>
     <tr>
      <th>
       Escenario
      </th>
      <th>
       Base de Datos Relacional
      </th>
      <th>
       Base de Datos de Grafos
      </th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td>
       A√±adir nueva propiedad
      </td>
      <td>
       Requiere ALTER TABLE, potencialmente afecta a todos los registros
      </td>
      <td>
       Simplemente se a√±ade a los nodos necesarios
      </td>
     </tr>
     <tr>
      <td>
       Consulta de relaciones profundas
      </td>
      <td>
       Complejidad O(n^depth) con m√∫ltiples joins
      </td>
      <td>
       Complejidad O(n) independiente de la profundidad
      </td>
     </tr>
     <tr>
      <td>
       Modelado de relaciones muchos-a-muchos
      </td>
      <td>
       Requiere tablas de uni√≥n adicionales
      </td>
      <td>
       Las relaciones son ciudadanos de primera clase
      </td>
     </tr>
     <tr>
      <td>
       Traves√≠as de datos
      </td>
      <td>
       Complejas de expresar en SQL
      </td>
      <td>
       Naturales y concisas en lenguajes como Cypher
      </td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="chapter-container">
   <h2 id="3-casos-de-uso-de-neo4j">
    3. Casos de Uso de Neo4j
   </h2>
   <h3 id="redes-sociales-y-analisis-de-comunidades">
    Redes Sociales y An√°lisis de Comunidades
   </h3>
   <ul>
    <li>
     <strong>
      Recomendaci√≥n de amigos/conexiones
     </strong>
     : Encontrar amigos de amigos, conexiones comunes
    </li>
    <li>
     <strong>
      An√°lisis de influencia
     </strong>
     : Identificar l√≠deres de opini√≥n y difusores de informaci√≥n
    </li>
    <li>
     <strong>
      Detecci√≥n de comunidades
     </strong>
     : Encontrar grupos de usuarios con intereses similares
    </li>
    <li>
     <strong>
      Ejemplo real
     </strong>
     : LinkedIn utiliza grafos para sus recomendaciones "Personas que quiz√°s conozcas"
    </li>
   </ul>
   <h3 id="motores-de-recomendacion">
    Motores de Recomendaci√≥n
   </h3>
   <ul>
    <li>
     <strong>
      Recomendaciones basadas en comportamiento
     </strong>
     : "Las personas que compraron X tambi√©n compraron Y"
    </li>
    <li>
     <strong>
      Recomendaciones contextuales
     </strong>
     : Combinaci√≥n de preferencias de usuario, comportamiento y caracter√≠sticas de productos
    </li>
    <li>
     <strong>
      Ejemplo real
     </strong>
     : Empresas como Walmart y eBay utilizan Neo4j para motores de recomendaci√≥n personalizados
    </li>
   </ul>
   <h3 id="deteccion-de-fraude-y-analisis-de-riesgos">
    Detecci√≥n de Fraude y An√°lisis de Riesgos
   </h3>
   <ul>
    <li>
     <strong>
      Identificaci√≥n de patrones sospechosos
     </strong>
     : Relaciones ocultas entre cuentas, transacciones y entidades
    </li>
    <li>
     <strong>
      An√°lisis de rutas
     </strong>
     : Seguimiento del flujo de dinero a trav√©s de m√∫ltiples cuentas
    </li>
    <li>
     <strong>
      Ejemplo real
     </strong>
     : Instituciones financieras como Standard Chartered Bank utilizan Neo4j para detectar fraudes
    </li>
   </ul>
   <h3 id="gestion-de-identidad-y-accesos">
    Gesti√≥n de Identidad y Accesos
   </h3>
   <ul>
    <li>
     <strong>
      Control de acceso basado en grafos
     </strong>
     : Modelado de jerarqu√≠as organizacionales complejas
    </li>
    <li>
     <strong>
      An√°lisis de permisos
     </strong>
     : Identificaci√≥n de accesos excesivos o inapropiados
    </li>
    <li>
     <strong>
      Ejemplo real
     </strong>
     : Cisco utiliza Neo4j para gestionar su estructura de control de acceso
    </li>
   </ul>
   <h3 id="gestion-de-redes-y-data-centers">
    Gesti√≥n de Redes y Data Centers
   </h3>
   <ul>
    <li>
     <strong>
      Mapeo de infraestructura IT
     </strong>
     : Visualizaci√≥n de dependencias entre servidores, aplicaciones y servicios
    </li>
    <li>
     <strong>
      An√°lisis de impacto
     </strong>
     : Predicci√≥n de efectos cascada de fallos de componentes
    </li>
    <li>
     <strong>
      Ejemplo real
     </strong>
     : Administradores de sistemas en empresas como Cisco utilizan Neo4j para modelar infraestructuras complejas
    </li>
   </ul>
   <h3 id="bioinformatica-y-ciencias-de-la-vida">
    Bioinform√°tica y Ciencias de la Vida
   </h3>
   <ul>
    <li>
     <strong>
      Redes de prote√≠nas
     </strong>
     : Modelado de interacciones entre prote√≠nas
    </li>
    <li>
     <strong>
      Investigaci√≥n farmac√©utica
     </strong>
     : Descubrimiento de compuestos para el desarrollo de medicamentos
    </li>
    <li>
     <strong>
      Ejemplo real
     </strong>
     : Proyectos como el consorcio de la Universidad de Cambridge utilizan Neo4j para investigaci√≥n gen√≥mica
    </li>
   </ul>
  </div>
  <div class="chapter-container">
   <h2 id="4-instalacion-y-configuracion-de-neo4j">
    4. Instalaci√≥n y Configuraci√≥n de Neo4j
   </h2>
   <h3 id="opciones-de-instalacion">
    Opciones de Instalaci√≥n
   </h3>
   <h4 id="neo4j-desktop-recomendado-para-desarrollo">
    Neo4j Desktop (Recomendado para desarrollo)
   </h4>
   <ol>
    <li>
     <p>
      <strong>
       Descarga
      </strong>
      :
   - Visita
      <a href="https://neo4j.com/download/">
       neo4j.com/download
      </a>
      - Selecciona Neo4j Desktop para tu sistema operativo (Windows, macOS, Linux)
     </p>
    </li>
    <li>
     <p>
      <strong>
       Instalaci√≥n
      </strong>
      :
   - Windows: Ejecuta el instalador y sigue las instrucciones
   - macOS: Arrastra Neo4j Desktop a la carpeta Aplicaciones
   - Linux: Sigue las instrucciones espec√≠ficas de la distribuci√≥n
     </p>
    </li>
    <li>
     <p>
      <strong>
       Primer uso
      </strong>
      :
   - Crea una cuenta gratuita de Neo4j o inicia sesi√≥n
   - Crea un nuevo proyecto en Neo4j Desktop
     </p>
    </li>
   </ol>
   <h4 id="neo4j-sandbox-sin-instalacion">
    Neo4j Sandbox (Sin instalaci√≥n)
   </h4>
   <ul>
    <li>
     Accede a
     <a href="https://neo4j.com/sandbox/">
      neo4j.com/sandbox
     </a>
    </li>
    <li>
     Crea una cuenta y selecciona una plantilla de proyecto (vac√≠a o prepoblada)
    </li>
    <li>
     Ideal para pruebas r√°pidas sin instalaci√≥n local
    </li>
   </ul>
   <h4 id="neo4j-aura-servicio-en-la-nube">
    Neo4j Aura (Servicio en la nube)
   </h4>
   <ul>
    <li>
     Versi√≥n gestionada en la nube de Neo4j
    </li>
    <li>
     Ofrece un nivel gratuito para proyectos peque√±os
    </li>
    <li>
     Configuraci√≥n sencilla a trav√©s de
     <a href="https://neo4j.com/cloud/aura/">
      neo4j.com/cloud/aura
     </a>
    </li>
   </ul>
   <h3 id="creacion-de-una-base-de-datos-en-neo4j-desktop">
    Creaci√≥n de una Base de Datos en Neo4j Desktop
   </h3>
   <ol>
    <li>
     <p>
      <strong>
       Crear un nuevo proyecto
      </strong>
      :
   - Clic en "Nuevo Proyecto"
   - Asigna un nombre descriptivo
     </p>
    </li>
    <li>
     <p>
      <strong>
       A√±adir una base de datos
      </strong>
      :
   - Dentro del proyecto, clic en "A√±adir ‚Üí Local DBMS"
   - Establece un nombre para la base de datos
   - Selecciona la versi√≥n de Neo4j (recomendada la √∫ltima versi√≥n estable)
   - Establece una contrase√±a (recu√©rdala, la necesitar√°s para conectarte)
     </p>
    </li>
    <li>
     <p>
      <strong>
       Iniciar la base de datos
      </strong>
      :
   - Clic en "Start" para iniciar el servidor
   - El indicador cambiar√° a verde cuando est√© en funcionamiento
     </p>
    </li>
   </ol>
   <h3 id="explorar-neo4j-browser">
    Explorar Neo4j Browser
   </h3>
   <p>
    Neo4j Browser es la interfaz web principal para interactuar con Neo4j:
   </p>
   <ol>
    <li>
     <p>
      <strong>
       Acceso
      </strong>
      :
   - En Neo4j Desktop, clic en "Open" junto a Neo4j Browser
   - O accede v√≠a http://localhost:7474 en tu navegador
     </p>
    </li>
    <li>
     <p>
      <strong>
       Autenticaci√≥n
      </strong>
      :
   - Usuario por defecto: neo4j
   - Contrase√±a: la que estableciste al crear la base de datos
     </p>
    </li>
    <li>
     <p>
      <strong>
       Elementos principales de la interfaz
      </strong>
      :
   - Editor de comandos (arriba): Para escribir consultas Cypher
   - Panel de resultados (centro): Visualizaci√≥n de resultados como grafos o tablas
   - Barra de informaci√≥n (izquierda): Acceso a documentaci√≥n, ejemplos y metadatos
     </p>
    </li>
    <li>
     <p>
      <strong>
       Comandos √∫tiles para empezar
      </strong>
      :
   -
      <code>
       :help
      </code>
      - Muestra ayuda general
   -
      <code>
       :play intro
      </code>
      - Tutorial interactivo de introducci√≥n
   -
      <code>
       :play movies
      </code>
      - Carga y explora la base de datos de ejemplo Movies
   -
      <code>
       :schema
      </code>
      - Muestra el esquema actual de la base de datos
     </p>
    </li>
   </ol>
   <h3 id="configuracion-basica">
    Configuraci√≥n B√°sica
   </h3>
   <h4 id="ajustes-de-memoria">
    Ajustes de Memoria
   </h4>
   <p>
    Para proyectos de desarrollo, los valores por defecto suelen ser suficientes. Para producci√≥n:
   </p>
   <div class="highlight language-text">
    <pre><span></span>// En neo4j.conf:
dbms.memory.heap.initial_size=1G
dbms.memory.heap.max_size=4G
</pre>
   </div>
   <h4 id="puertos">
    Puertos
   </h4>
   <p>
    Neo4j utiliza varios puertos por defecto:
- 7474: HTTP para Neo4j Browser
- 7473: HTTPS
- 7687: Bolt (protocolo binario para drivers)
   </p>
   <p>
    Para cambiarlos:
   </p>
   <div class="highlight language-text">
    <pre><span></span>// En neo4j.conf:
dbms.connector.http.listen_address=:7474
dbms.connector.https.listen_address=:7473
dbms.connector.bolt.listen_address=:7687
</pre>
   </div>
  </div>
  <div class="chapter-container">
   <h2 id="ejercicios-practicos">
    Ejercicios Pr√°cticos
   </h2>
   <h3 id="ejercicio-1-instalacion-y-verificacion">
    Ejercicio 1: Instalaci√≥n y Verificaci√≥n
   </h3>
   <ol>
    <li>
     Instala Neo4j Desktop siguiendo las instrucciones anteriores
    </li>
    <li>
     Crea un nuevo proyecto llamado "CursoNeo4j"
    </li>
    <li>
     Crea una base de datos local con la √∫ltima versi√≥n estable
    </li>
    <li>
     Inicia la base de datos y abre Neo4j Browser
    </li>
    <li>
     Ejecuta el comando
     <code>
      :play intro
     </code>
     y completa el primer apartado del tutorial
    </li>
   </ol>
   <h3 id="ejercicio-2-exploracion-del-modelo-de-peliculas">
    Ejercicio 2: Exploraci√≥n del Modelo de Pel√≠culas
   </h3>
   <ol>
    <li>
     Carga la base de datos de ejemplo Movies con el comando
     <code>
      :play movies
     </code>
    </li>
    <li>
     Sigue las instrucciones para cargar el conjunto de datos
    </li>
    <li>
     Ejecuta la consulta:
     <code>
      MATCH (n) RETURN n LIMIT 25
     </code>
    </li>
    <li>
     Explora el grafo resultante: identifica tipos de nodos y relaciones
    </li>
    <li>
     Intenta responder: ¬øCu√°ntos tipos de nodos diferentes hay? ¬øQu√© relaciones existen entre ellos?
    </li>
   </ol>
  </div>
  <div class="chapter-container">
   <h2 id="recursos-adicionales">
    Recursos Adicionales
   </h2>
   <ul>
    <li>
     <a href="https://neo4j.com/docs/">
      Documentaci√≥n oficial de Neo4j
     </a>
    </li>
    <li>
     <a href="https://neo4j.com/sandbox/">
      Neo4j Sandbox
     </a>
     para experimentar con conjuntos de datos preconfigurados
    </li>
    <li>
     <a href="https://neo4j.com/developer/">
      Neo4j Developer Portal
     </a>
     con tutoriales y recursos de aprendizaje
    </li>
    <li>
     <a href="https://community.neo4j.com/">
      Neo4j Community Site
     </a>
     para preguntas y soporte
    </li>
   </ul>
   <hr/>
  </div>
  <div class="chapter-container">
   <h2 id="ejercicios-para-afianzar-conocimientos">
    Ejercicios para afianzar conocimientos
   </h2>
   <h3 id="preguntas-conceptuales">
    Preguntas Conceptuales
   </h3>
   <ol>
    <li>
     Explica las diferencias fundamentales entre una base de datos relacional y una base de datos de grafos.
    </li>
    <li>
     ¬øQu√© problemas espec√≠ficos resuelve Neo4j mejor que las bases de datos relacionales tradicionales?
    </li>
    <li>
     Describe tres casos de uso reales donde Neo4j ser√≠a la opci√≥n √≥ptima. Justifica tu respuesta.
    </li>
    <li>
     Explica c√≥mo afecta el rendimiento la profundidad de las relaciones en consultas de bases de datos de grafos vs. relacionales.
    </li>
   </ol>
   <h3 id="ejercicios-practicos_1">
    Ejercicios Pr√°cticos
   </h3>
   <ol>
    <li>
     <p>
      Instala Neo4j y realiza esto:
   - Crear una nueva base de datos
   - Conectarte a trav√©s de Neo4j Browser
   - Ejecutar comandos b√°sicos de ayuda
     </p>
    </li>
    <li>
     <p>
      En la base de datos de ejemplo Movies:
   - Encuentra todas las personas que dirigieron pel√≠culas
   - Encuentra todas las pel√≠culas lanzadas en un a√±o espec√≠fico
   - Documenta los pasos que seguiste y los resultados obtenidos
     </p>
    </li>
   </ol>
   <p>
    .
   </p>
  </div>
  <textarea id="css-editor" style="display:none;">pre {line-height: 125%;}

td.linenos .normal {color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;}

span.linenos {color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;}

td.linenos .special {color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px;}

span.linenos.special {color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px;}

.highlight .hll {background-color: #ffffcc;}

.highlight {background: #f8f8f8; padding: 0; border-radius: 5px; margin: 15px 0; background-color: #fef6e4 !important; border: 1px solid #f0e6d4; box-shadow: 0 1px 3px rgba(0,0,0,0.1);}

.highlight .c {color: #9a8052 !important; font-style: italic;}

/* Comment */
.highlight .err {border: 1px solid #F00;}

/* Error */
.highlight .k {color: #008000; font-weight: bold;}

/* Keyword */
.highlight .o {color: #666;}

/* Operator */
.highlight .ch {color: #3D7B7B; font-style: italic;}

/* Comment.Hashbang */
.highlight .cm {color: #3D7B7B; font-style: italic;}

/* Comment.Multiline */
.highlight .cp {color: #9C6500;}

/* Comment.Preproc */
.highlight .cpf {color: #3D7B7B; font-style: italic;}

/* Comment.PreprocFile */
.highlight .c1 {color: #3D7B7B; font-style: italic;}

/* Comment.Single */
.highlight .cs {color: #3D7B7B; font-style: italic;}

/* Comment.Special */
.highlight .gd {color: #A00000;}

/* Generic.Deleted */
.highlight .ge {font-style: italic;}

/* Generic.Emph */
.highlight .ges {font-weight: bold; font-style: italic;}

/* Generic.EmphStrong */
.highlight .gr {color: #E40000;}

/* Generic.Error */
.highlight .gh {color: #000080; font-weight: bold;}

/* Generic.Heading */
.highlight .gi {color: #008400;}

/* Generic.Inserted */
.highlight .go {color: #717171;}

/* Generic.Output */
.highlight .gp {color: #000080; font-weight: bold;}

/* Generic.Prompt */
.highlight .gs {font-weight: bold;}

/* Generic.Strong */
.highlight .gu {color: #800080; font-weight: bold;}

/* Generic.Subheading */
.highlight .gt {color: #04D;}

/* Generic.Traceback */
.highlight .kc {color: #008000; font-weight: bold;}

/* Keyword.Constant */
.highlight .kd {color: #008000; font-weight: bold;}

/* Keyword.Declaration */
.highlight .kn {color: #008000; font-weight: bold;}

/* Keyword.Namespace */
.highlight .kp {color: #008000;}

/* Keyword.Pseudo */
.highlight .kr {color: #008000; font-weight: bold;}

/* Keyword.Reserved */
.highlight .kt {color: #B00040;}

/* Keyword.Type */
.highlight .m {color: #666;}

/* Literal.Number */
.highlight .s {color: #BA2121;}

/* Literal.String */
.highlight .na {color: #687822;}

/* Name.Attribute */
.highlight .nb {color: #008000;}

/* Name.Builtin */
.highlight .nc {color: #00F; font-weight: bold;}

/* Name.Class */
.highlight .no {color: #800;}

/* Name.Constant */
.highlight .nd {color: #A2F;}

/* Name.Decorator */
.highlight .ni {color: #717171; font-weight: bold;}

/* Name.Entity */
.highlight .ne {color: #CB3F38; font-weight: bold;}

/* Name.Exception */
.highlight .nf {color: #00F;}

/* Name.Function */
.highlight .nl {color: #767600;}

/* Name.Label */
.highlight .nn {color: #00F; font-weight: bold;}

/* Name.Namespace */
.highlight .nt {color: #008000; font-weight: bold;}

/* Name.Tag */
.highlight .nv {color: #19177C;}

/* Name.Variable */
.highlight .ow {color: #A2F; font-weight: bold;}

/* Operator.Word */
.highlight .w {color: #BBB;}

/* Text.Whitespace */
.highlight .mb {color: #666;}

/* Literal.Number.Bin */
.highlight .mf {color: #666;}

/* Literal.Number.Float */
.highlight .mh {color: #666;}

/* Literal.Number.Hex */
.highlight .mi {color: #666;}

/* Literal.Number.Integer */
.highlight .mo {color: #666;}

/* Literal.Number.Oct */
.highlight .sa {color: #BA2121;}

/* Literal.String.Affix */
.highlight .sb {color: #BA2121;}

/* Literal.String.Backtick */
.highlight .sc {color: #BA2121;}

/* Literal.String.Char */
.highlight .dl {color: #BA2121;}

/* Literal.String.Delimiter */
.highlight .sd {color: #BA2121; font-style: italic;}

/* Literal.String.Doc */
.highlight .s2 {color: #BA2121;}

/* Literal.String.Double */
.highlight .se {color: #AA5D1F; font-weight: bold;}

/* Literal.String.Escape */
.highlight .sh {color: #BA2121;}

/* Literal.String.Heredoc */
.highlight .si {color: #A45A77; font-weight: bold;}

/* Literal.String.Interpol */
.highlight .sx {color: #008000;}

/* Literal.String.Other */
.highlight .sr {color: #A45A77;}

/* Literal.String.Regex */
.highlight .s1 {color: #BA2121;}

/* Literal.String.Single */
.highlight .ss {color: #19177C;}

/* Literal.String.Symbol */
.highlight .bp {color: #008000;}

/* Name.Builtin.Pseudo */
.highlight .fm {color: #00F;}

/* Name.Function.Magic */
.highlight .vc {color: #19177C;}

/* Name.Variable.Class */
.highlight .vg {color: #19177C;}

/* Name.Variable.Global */
.highlight .vi {color: #19177C;}

/* Name.Variable.Instance */
.highlight .vm {color: #19177C;}

/* Name.Variable.Magic */
.highlight .il {color: #666;}

body {font-family: Arial, sans-serif; line-height: 1.6; margin: 0 auto; padding: 20px;}

#main-title-block {background-color: #2e2e2e; color: #f0f0f0; padding: 18px; border-radius: 10px; border: 1px solid #444; box-shadow: 0 2px 5px rgba(0,0,0,0.2); font-size: 1.8em; font-weight: bold; margin-bottom: 20px; text-align: center;}

pre:not(.highlight pre) {background-color: #fef6e4; color: #2e2e2e; padding: 12px; border-radius: 5px; overflow-x: auto; border: 1px solid #f0e6d4; box-shadow: 0 1px 3px rgba(0,0,0,0.1); margin: 15px 0;}

code {font-family: "Courier New", Courier, monospace;}

.highlight pre {background: none; border: none; box-shadow: none; padding: 12px; margin: 0; border-radius: 0;}

.highlight .c1 {color: #9a8052 !important; font-style: italic;}

.highlight .cm {color: #9a8052 !important; font-style: italic;}

.highlight .k {color: #8250df !important; font-weight: normal;}

.highlight .kd {color: #8250df !important; font-weight: normal;}

.highlight .kn {color: #8250df !important; font-weight: normal;}

.highlight .s {color: #327d41 !important;}

.highlight .s1 {color: #327d41 !important;}

.highlight .s2 {color: #327d41 !important;}

.highlight .sb {color: #327d41 !important;}

.highlight .si {color: #327d41 !important;}

.highlight .m {color: #606060 !important;}

.highlight .mi {color: #606060 !important;}

.highlight .mf {color: #606060 !important;}

.highlight .o {color: #666666 !important; font-weight: normal;}

.highlight .ow {color: #666666 !important; font-weight: normal;}

.highlight .kc {color: #9a5b13 !important;}

.highlight .no {color: #9a5b13 !important;}

.highlight .nf {color: #606060 !important; font-weight: normal;}

.highlight .nb {color: #606060 !important; font-weight: normal;}

.highlight .nx {color: #606060 !important; font-weight: normal;}

.highlight .p {color: #666666 !important; font-weight: normal;}

.language-jsx .highlight .k {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-jsx .highlight .kd {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-jsx .highlight .kr {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-jsx .highlight .nx {color: #0969da !important; background: none !important; border: none !important;}

.language-jsx .highlight .nf {color: #0969da !important; background: none !important; border: none !important;}

.language-jsx .highlight .nt {color: #116329 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-jsx .highlight .nc {color: #116329 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-jsx .highlight .o {color: #666666 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-jsx .highlight .p {color: #666666 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-jsx .highlight .na {color: #0969da !important; background: none !important; border: none !important;}

.language-jsx .highlight .s {color: #0a3069 !important; background: none !important; border: none !important;}

.language-jsx .highlight .s1 {color: #0a3069 !important; background: none !important; border: none !important;}

.language-jsx .highlight .s2 {color: #0a3069 !important; background: none !important; border: none !important;}

.language-jsx .highlight .c {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-jsx .highlight .c1 {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-jsx .highlight .cm {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-jsx .highlight .m {color: #0969da !important; background: none !important; border: none !important;}

.language-jsx .highlight .mi {color: #0969da !important; background: none !important; border: none !important;}

.language-jsx .highlight .mf {color: #0969da !important; background: none !important; border: none !important;}

.language-react .highlight .k {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-react .highlight .kd {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-react .highlight .kr {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-react .highlight .nx {color: #0969da !important; background: none !important; border: none !important;}

.language-react .highlight .nf {color: #0969da !important; background: none !important; border: none !important;}

.language-react .highlight .nt {color: #116329 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-react .highlight .nc {color: #116329 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-react .highlight .o {color: #666666 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-react .highlight .p {color: #666666 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-react .highlight .na {color: #0969da !important; background: none !important; border: none !important;}

.language-react .highlight .s {color: #0a3069 !important; background: none !important; border: none !important;}

.language-react .highlight .s1 {color: #0a3069 !important; background: none !important; border: none !important;}

.language-react .highlight .s2 {color: #0a3069 !important; background: none !important; border: none !important;}

.language-react .highlight .c {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-react .highlight .c1 {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-react .highlight .cm {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-react .highlight .m {color: #0969da !important; background: none !important; border: none !important;}

.language-react .highlight .mi {color: #0969da !important; background: none !important; border: none !important;}

.language-react .highlight .mf {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .k {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-tsx .highlight .kd {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-tsx .highlight .kr {color: #af00db !important; font-weight: normal; background: none !important; border: none !important;}

.language-tsx .highlight .nx {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .nf {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .nt {color: #116329 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-tsx .highlight .nc {color: #116329 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-tsx .highlight .o {color: #666666 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-tsx .highlight .p {color: #666666 !important; background: none !important; border: none !important; box-shadow: none !important; outline: none !important;}

.language-tsx .highlight .na {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .s {color: #0a3069 !important; background: none !important; border: none !important;}

.language-tsx .highlight .s1 {color: #0a3069 !important; background: none !important; border: none !important;}

.language-tsx .highlight .s2 {color: #0a3069 !important; background: none !important; border: none !important;}

.language-tsx .highlight .c {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-tsx .highlight .c1 {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-tsx .highlight .cm {color: #656d76 !important; font-style: italic; background: none !important; border: none !important;}

.language-tsx .highlight .m {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .mi {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .mf {color: #0969da !important; background: none !important; border: none !important;}

.language-tsx .highlight .kt {color: #0969da !important; background: none !important; border: none !important;}

.language-javascript .highlight .err {color: #116329 !important; background: none !important; border: none !important;}

.language-js .highlight .err {color: #116329 !important; background: none !important; border: none !important;}

.highlight span {background: none !important; border: none !important; box-shadow: none !important; text-decoration: none !important; outline: none !important;}

.empty-code-block {background-color: #fef6e4; color: #2e2e2e; padding: 12px; border-radius: 5px; margin: 15px 0; font-family: monospace; border: 1px solid #f0e6d4; box-shadow: 0 1px 3px rgba(0,0,0,0.1);}

.highlight-error {background-color: #fef6e4; color: #000080; padding: 12px; border-radius: 5px; margin: 15px 0; font-family: monospace; border: 1px solid #f0e6d4; box-shadow: 0 1px 3px rgba(0,0,0,0.1);}

img {max-width: 100%; height: auto;}

table {border-collapse: collapse; width: 100%;}

th {border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2;}

td {border: 1px solid #ddd; padding: 8px;}

.chapter-container {background-color: #f9f9f9; border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin: 20px 0; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}

.chapter-container h2 {margin-top: 0; border-bottom: 1px solid #eee; padding-bottom: 10px; color: #444;}

/* Estilos para el contenedor colapsable */
.collapsible-container {position: relative; overflow: hidden; transition: max-height 0.3s ease; border-radius: 8px; margin: 0;}

.collapsible-container pre {margin: 0; line-height: 1.4;}

.collapsible-container .toggle-button {position: absolute; top: 8px; right: 8px; background: rgba(255,255,255,0.9); border: 1px solid #ccc; cursor: pointer; font-size: 16px; line-height: 1; padding: 4px 8px; border-radius: 4px; z-index: 10; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}

.collapsible-container .toggle-button:hover {background: rgba(255,255,255,1);}

/* Estilos para el bot√≥n de copiar */
.collapsible-container .copy-button {position: absolute; top: 8px; width: 24px; display: flex; /* Usamos flexbox para centrar el icono/texto */
  align-items: center; justify-content: center; right: 48px; /* A 40 px a la izquierda del bot√≥n de colapsar */
  background: rgba(255,255,255,0.9); border: 1px solid #ccc; cursor: pointer; font-size: 16px; line-height: 1; padding: 4px 8px; border-radius: 4px; z-index: 10; box-shadow: 0 2px 4px rgba(0,0,0,0.1);}

.collapsible-container .copy-button:hover {background: rgba(255,255,255,1);}

.collapsible-container .fade-overlay {position: absolute; bottom: -1px; left: 0; right: 0; height: 42px; background: linear-gradient(
    to bottom, 
    rgba(255,249,229,0), 
    rgba(255,249,229,1)
  ); pointer-events: none; z-index: 5; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px;}

.collapsible-container .ellipsis {position: absolute; bottom: 8px; width: 100%; text-align: center; color: #888; font-size: 18px; font-weight: bold; z-index: 6;}

.collapsible-container.expanded .fade-overlay {display: none;}

.collapsible-container.expanded .ellipsis {display: none;}

/* Estilos para la tabla de contenidos */

/* Contenedor principal */
#table-of-contents {background-color: #f0f0ff; border-radius: 8px; padding: 20px 30px; margin: 20px 0; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); font-family: Arial, sans-serif; border: 1px solid #d0d0ff;}

/* T√≠tulo de la tabla de contenidos */
#contents-header {text-align: center; color: #585b9e; font-size: 24px; margin-top: 10px; margin-bottom: 20px; font-weight: 500; padding-bottom: 15px;}

/* Listas */
ul.toc {list-style-type: none; padding-left: 20px; margin: 0;}

/* Elementos de la lista */
li.toc {margin: 10px 0; line-height: 1.5; color: #585b9e;}

/* Enlaces */
a.toc {text-decoration: none; color: #585b9e; transition: color 0.2s, padding-left 0.2s; display: inline-block;}

/* Efecto hover en los enlaces */
a.toc:hover {color: #3333cc; padding-left: 3px; font-weight: 500; text-decoration: none;}

/* Diferentes niveles de indentaci√≥n */
li.toc li.toc {margin-left: 15px;}

li.toc li.toc li.toc {margin-left: 25px;}

/* Hacer que los enlaces de primer nivel tengan un poco m√°s de peso */
ul.toc &gt; li.toc &gt; a.toc {font-weight: 500;}

/* L√≠nea decorativa sobre la tabla de contenidos */
#table-of-contents:before {content: ""; display: block; height: 0px; background-color: #d0d0ff; margin-bottom: 15px;}</textarea>
  <script>
   document.addEventListener('DOMContentLoaded', function() {
    var cssCode = document.getElementById('css-editor').value;
    var style = document.createElement('style');
    style.textContent = cssCode;
    document.head.appendChild(style);
});
  </script>
  <script>
   document.addEventListener('DOMContentLoaded', function() {
    // Aplicar estilo con retraso de 100ms para superar posibles hojas de estilo heredadas
    setTimeout(function() {
        document.querySelectorAll('.toggle-button').forEach(btn => {
            btn.style.setProperty('color', 'black', 'important');
            if (!btn.textContent.trim()) {
                btn.textContent = '+';
            }
        });
        document.querySelectorAll('.copy-button').forEach(btn => {
            btn.style.setProperty('color', 'black', 'important');
        });
    }, 1000);
});
  </script>
  <script>
   document.addEventListener('DOMContentLoaded', function() {
(function() {
  function initCollapsibles() {
    // Esperar un poco para que los estilos se apliquen
    setTimeout(() => {
      document.querySelectorAll('.collapsible-container').forEach(container => {
        const pre = container.querySelector('pre');
        if (!pre) return;
        
        const maxLines = parseInt(container.dataset.maxLines, 10) || 6;
        
        // Crear un elemento temporal para medir line-height
        const tempSpan = document.createElement('span');
        tempSpan.style.visibility = 'hidden';
        tempSpan.style.position = 'absolute';
        tempSpan.style.fontSize = getComputedStyle(pre).fontSize;
        tempSpan.style.fontFamily = getComputedStyle(pre).fontFamily;
        tempSpan.style.lineHeight = '1.4';
        tempSpan.textContent = 'M';
        document.body.appendChild(tempSpan);
        
        const lineHeight = tempSpan.offsetHeight;
        document.body.removeChild(tempSpan);
        
        const fullHeight = pre.scrollHeight;
        const collapsedHeight = Math.ceil(lineHeight * maxLines);
        
        console.log('Debug:', {
          maxLines,
          lineHeight,
          fullHeight,
          collapsedHeight,
          shouldCollapse: fullHeight > collapsedHeight + 10
        });
        
        // Solo colapsar si realmente es necesario
        if (fullHeight <= collapsedHeight + 10) {
          return;
        }

        // Estado inicial: colapsado
        container.style.maxHeight = collapsedHeight + 'px';
        container.classList.add('collapsed');

         // === Aqu√≠ agregamos primero el bot√≥n de "copiar" ===
        const copyBtn = document.createElement('button');
        copyBtn.className = 'copy-button';
        copyBtn.innerHTML = 'üìã';
        copyBtn.title = 'Copiar c√≥digo';
        container.appendChild(copyBtn);

        // Evento para copiar el texto del <pre> al portapapeles
        copyBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          // Copiar el contenido de 'pre'
          const codeText = pre.innerText;
          navigator.clipboard.writeText(codeText).then(() => {
            // Opcional: retroalimentaci√≥n breve (por ejemplo cambiar texto o color)
            copyBtn.textContent = '‚úî';
            setTimeout(() => { copyBtn.innerHTML = 'üìã'; }, 1000);
          }).catch(err => {
            console.error('Error al copiar al portapapeles:', err);
          });
        });

        // Crear bot√≥n
        const btn = document.createElement('button');
        btn.className = 'toggle-button';
        btn.textContent = '+';
        btn.title = 'Expandir/Colapsar c√≥digo';
        container.appendChild(btn);

        // Crear overlay y ellipsis
        const overlay = document.createElement('div');
        overlay.className = 'fade-overlay';
        container.appendChild(overlay);
        
        const ell = document.createElement('div');
        ell.className = 'ellipsis';
        ell.textContent = '...';
        container.appendChild(ell);

        // Evento toggle
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          
          const isCollapsed = container.classList.contains('collapsed');
          
          if (isCollapsed) {
            // Expandir
            container.style.maxHeight = fullHeight + 20 + 'px';
            container.classList.remove('collapsed');
            container.classList.add('expanded');
            btn.textContent = '‚àí';
          } else {
            // Colapsar
            container.style.maxHeight = collapsedHeight + 'px';
            container.classList.add('collapsed');
            container.classList.remove('expanded');
            btn.textContent = '+';
          }
        });
      });
    }, 100); // Esperar 100ms para que se apliquen los estilos
  }
  
  // M√∫ltiples puntos de inicializaci√≥n para mayor compatibilidad
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initCollapsibles);
  } else {
    initCollapsibles();
  }
  
  // Tambi√©n inicializar en window.load por si acaso
  window.addEventListener('load', initCollapsibles);
})();
});
  </script>
 </body>
</html>
